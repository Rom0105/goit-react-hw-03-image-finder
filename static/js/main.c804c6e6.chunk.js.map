{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Loader/Loader.module.css","components/ImageGallery/ImageGallery.module.css","components/App/App.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","Services/Constants.js","Services/AppiServise.js","components/Loader/Loader.js","components/Button/Button.js","components/App/App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","searchQuery","handleSearhChang","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","alert","text","delay","className","style","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","tags","webformatURL","selectedImage","src","alt","onClick","ImageGalleryItemImage","ImageGallery","images","map","id","largeImageURL","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","selectedImg","createPortal","Overlay","API_KEY","page","a","url","axios","get","data","hits","defaults","baseURL","pixHandler","Loader","div","button","Button","scrollTo","top","documentElement","scrollHeight","behavior","App","status","handleFormSubmit","resetState","loadMoreBtnClick","prevState","handleSelectedImage","largeImageUrl","closeModal","_","prevSearch","nextSearch","prevPage","nextPage","length","error","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c804c6e6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1Fa28\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__LgLPw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2MfrW\",\"Modal\":\"Modal_Modal__3Ue-R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"div\":\"Loader_div__3ZGli\",\"button\":\"Loader_button__SpOYW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3pd9G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"App_title__2dd7I\"};","import React, { Component } from 'react';\nimport { alert } from '@pnotify/core';\nimport '@pnotify/core/dist/PNotify.css';\nimport PropTypes from 'prop-types';\nimport style from '../Searchbar/Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  state = {\n    searchQuery: '',\n  };\n\n  handleSearhChang = event => {\n    this.setState({ searchQuery: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    if (this.state.searchQuery.trim() === '') {\n      alert({\n        text: 'Enter the title!',\n        delay: 1000,\n      });\n\n      return;\n    }\n    this.props.onSubmit(this.state.searchQuery);\n    this.setState({ searchQuery: '' });\n  };\n\n  render() {\n    return (\n      <header className={style.Searchbar}>\n        <form onSubmit={this.handleSubmit} className={style.Searchbar}>\n          <button type=\"submit\" className={style.SearchFormButton}>\n            <span className={style.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={style.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.searchQuery}\n            onChange={this.handleSearhChang}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport style from '../ImageGalleryItem/ImageGalleryItem.module.css';\n\nexport default function ImageGalleryItem({ tags, webformatURL, selectedImage }) {\n  return (\n    <li className={style.ImageGalleryItem}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        onClick={selectedImage}\n        className={style.ImageGalleryItemImage}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  tags: PropTypes.string.isRequired,\n  webformatURL: PropTypes.string.isRequired,\n  selectedImage: PropTypes.func,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport style from '../ImageGallery/ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\nexport default function ImageGallery({ images, selectedImage }) {\n  return (\n    <ul className={style.ImageGallery}>\n      {images.map(({ id, webformatURL, tags, largeImageURL }) => (\n        <ImageGalleryItem\n          key={id}\n          webformatURL={webformatURL}\n          tags={tags}\n          selectedImage={() => selectedImage(largeImageURL, tags)}\n        />\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    }),\n  ),\n  selectedImg: PropTypes.func,\n};\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport style from '../Modal/Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    selectedImg: PropTypes.string,\r\n    tags: PropTypes.string,\r\n    onClose: PropTypes.func,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { selectedImg, tags } = this.props;\r\n\r\n    return createPortal(\r\n      <div className={style.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={style.Modal}>\r\n          <img src={selectedImg} alt={tags} />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n","const API_KEY = '23040897-f684e552d269990a649c2a9ea';\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\n\r\nexport { API_KEY, BASE_URL };\r\n","import axios from 'axios';\r\nimport { BASE_URL, API_KEY } from '../Services/Constants';\r\n\r\naxios.defaults.baseURL = BASE_URL;\r\n\r\nasync function pixHandler(searchQuery, page) {\r\n  const url = `/?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${page}&per_page=12&key=${API_KEY}`;\r\n  const { data } = await axios.get(url);\r\n  return data.hits;\r\n}\r\n\r\nexport default pixHandler;\r\n","import style from '../Loader/Loader.module.css';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Loader = ({ onClick }) => {\n  return (\n    <div className={style.div}>\n      <button type=\"button\" onClick={onClick} className={style.button}>\n        Load more\n      </button>\n    </div>\n  );\n};\n\nLoader.propTypes = {\n  onClick: PropTypes.func,\n};\n\nexport default Loader;\n","const Button = () => {\r\n  return window.scrollTo({\r\n    top: document.documentElement.scrollHeight,\r\n    behavior: 'smooth',\r\n  });\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { error } from '@pnotify/core/dist/PNotify.js';\nimport '@pnotify/core/dist/BrightTheme.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Searchbar from '../Searchbar/Searchbar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Modal from '../Modal/Modal';\nimport pixHandler from '../../Services/AppiServise';\nimport Loader from '../Loader/Loader';\nimport Button from '../Button/Button';\n\nclass App extends Component {\n  static propTypes = {\n    searchQuery: PropTypes.string,\n  };\n\n  state = {\n    searchQuery: '',\n    page: 1,\n    images: [],\n    selectedImg: null,\n    alt: null,\n    status: 'idle',\n  };\n\n  async componentDidUpdate(_, prevState) {\n    const prevSearch = prevState.searchQuery;\n    const nextSearch = this.state.searchQuery;\n\n    const prevPage = prevState.page;\n    const nextPage = this.state.page;\n\n    if (prevSearch !== nextSearch || prevPage !== nextPage) {\n      this.setState({ status: 'pending' });\n\n      try {\n        const images = await pixHandler(nextSearch, nextPage);\n\n        if (!images.length) {\n          error({\n            text: 'No image!',\n            delay: 1000,\n          });\n        }\n\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          status: 'resolved',\n        }));\n      } catch (error) {\n        error({\n          text: 'No image!',\n          delay: 1000,\n        });\n\n        this.setState({ status: 'rejected' });\n      }\n\n      this.state.page > 1 && Button();\n    }\n  }\n\n  handleFormSubmit = searchQuery => {\n    if (this.state.searchQuery === searchQuery) {\n      return;\n    }\n\n    this.resetState();\n    this.setState({ searchQuery });\n  };\n\n  loadMoreBtnClick = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  handleSelectedImage = (largeImageUrl, tags) => {\n    this.setState({\n      selectedImg: largeImageUrl,\n      alt: tags,\n    });\n  };\n\n  closeModal = () => {\n    this.setState({\n      selectedImg: null,\n    });\n  };\n\n  resetState = () => {\n    this.setState({\n      searchQuery: '',\n      page: 1,\n      images: [],\n      selectedImg: null,\n      alt: null,\n      status: 'idle',\n    });\n  };\n\n  render() {\n    const { images, selectedImg, alt, status } = this.state;\n\n    if (status === 'idle') {\n      return <Searchbar onSubmit={this.handleFormSubmit} />;\n    }\n\n    if (status === 'pending') {\n      return (\n        <>\n          <Searchbar onSubmit={this.handleFormSubmit} />\n          {/* <Spinner /> */}\n          <ImageGallery images={images} selectedImage={this.handleSelectedImage} />\n\n          {images.length > 0 && <Loader onClick={this.loadMoreBtnClick} />}\n        </>\n      );\n    }\n\n    if (status === 'resolved') {\n      return (\n        <>\n          <Searchbar onSubmit={this.handleFormSubmit} />\n          <ImageGallery images={images} selectedImage={this.handleSelectedImage} />\n          {selectedImg && <Modal selectedImg={selectedImg} tags={alt} onClose={this.closeModal} />}\n          {images.length > 0 && <Loader onClick={this.loadMoreBtnClick} />}\n        </>\n      );\n    }\n\n    if (status === 'rejected') {\n      return (\n        <>\n          <Searchbar onSubmit={this.handleFormSubmit} />\n        </>\n      );\n    }\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport 'modern-normalize/modern-normalize.css';\nimport './components/App/App.module.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__15xWl\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3Uqyl\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3g4wa\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1K7ZQ\"};"],"sourceRoot":""}